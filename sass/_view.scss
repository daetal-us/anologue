/**
 * Anologue: anonymous, linear dialogue
 *
 * @copyright     Copyright 2010, Union of RAD (http: //union-of-rad.org)
 * @license       http: //opensource.org/licenses/bsd-license.php The BSD License
 */

article.anologue {
	@include display-box;
	@include box-orient(vertical);
	width: 100%;
	height: 100%;

	header {
		@include display-box;
		@include box-orient(horizontal);
		@include box-shadow(0 0 1em black);
		background: #00557F;
		color: white;
		font-size: .75em;
		z-index: 100;

		.title, .description {
			margin: 0;
			padding: .5em;
			display: block;
		}

		.title {
			font-weight: bold;
		}

		.description {
			@include box-flex(1);
			color: rgba(255,255,255,.5);
			text-align: right;
		}
	}

	section.body {
		@include display-box;
		@include box-orient(horizontal);
		@include box-flex(1);
		@include background-image(linear-gradient(#2B1933, #00557F));

		section {
			font-size: .8em; 
			overflow: scroll;

			&#viewers {
				background: rgba(255,255,255,.05);
				color: rgba(255,255,255,.5);
				width: 14em;

				h1 {
					font-weight: bold;
					padding: .5em;
					background: rgba(0,0,0,.1);
				}

				ul {
					font-size: .85em;
					li {
						padding: .25em .25em .25em 2.25em;
						position: relative;
						line-height: 1.25em;
						border-top: 1px solid rgba(0,0,0,.15);

						a {
							color: white;
						}

						&.away {
							font-style: italic;
							color: rgba(255,255,255,.25);

							a {
								color: rgba(255,255,255,.5);
							}
						}
						

						img {
							position: absolute;
							left: 0;
							top: 0;
							width: 1.75em;
						}
					}
				}
			}

			&.messages {
				@include box-flex(1);

				.message {
					display: block;
					@include display-box;
					@include box-orient(horizontal);
					margin: .25em;
					position: relative;

					.meta {
						display: block;
						margin-right: 1.5em;

						.gravatar {
							border-radius: .25em;
							width: 3em;
							float: right;
							@include box-shadow;
						}

						.author {
							text-align: right;
							display: block;
							line-height: 3em;
							padding: 0 .5em;
							margin-right: 2em;
							width: 10em;
							white-space: nowrap;
							overflow: hidden;
							text-overflow: ellipsis;
							color: rgba(255,255,255,.25);
							font-weight: bold;
						}

						.ip, time {
							color: rgba(0,0,0,.25);
							font-size: .75em;
							position: absolute;
							top: .25em;
							right: .5em;
							z-index: 50;
						}

						.ip {
							top: auto;
							bottom: .25em;
							display: none;
						}
					}

					&:hover {
						.ip {
							display: block;
						}
					}

					.text {
						display: block;
						font-size: .9em;
						@include box-flex(1);
						background: white;
						border-radius: .5em;
						padding: .5em 1em;
						position: relative;
						line-height: 1.5em;

						&:before {
							content: ' ';
							display: block;
							border-top: 1em solid transparent;
							border-right: 1em solid white;
							position: absolute;
							left: -.9em;
							top: .5em;
						}

						pre {
							background: rgba(0,0,0,.1);
							padding: 1em;
							font-size: .8em;
							line-height: 1.5em;

							code {
								font-family: monaco;
							}
						}
					}
				}
			}
		}
	}

	footer {
		background: #2B1933;

	}
}